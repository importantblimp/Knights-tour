\documentclass[11pt, a4paper]{article}

\usepackage{hyperref}
\hypersetup{
  pdftitle={An explanation of Parberry's knight's tour algorithm},
  pdfsubject={},
  pdfcreator={},
  pdfproducer={},
  pdfkeywords={Ian Parberry, divide and conquer, algorithm},
  hidelinks=true
}
\urlstyle{same}

\usepackage{parskip}
\usepackage{graphicx}

\begin{document}

{\centering\Large{An explanation of Parberry's knight's tour algorithm}}

This document will explain the algorithm described in Ian Parberry's 1997 paper ``An Efficient Algorithm for the Knight's Tour Problem''. I will explain the Knight's tour problem, the notation used in the paper, and end with a detailed discussion of the divide and conquer algorithm eluded to in the paper. A reference implementation of the algorithm in Java is provided alongside this document.

My motivation for writing this document stems from the lack of accessible material on Parberry's paper online. I found the paper itself to be very dense and often lacking in explicit notes on points of importance. Other resources available online I also found to be vague or used excessive jargon relating to graph theory. I hope, therefore, to explain the algorithm and the concepts within the paper in a manner suitable for those not familiar with the notation used.

\section{The Knight's tour}

Parberry describes a tour as ``A \emph{knight's tour} is a series of moves made by a knight visiting each square of an $n \times n$ chessboard exactly once''. This means we have a knight, who can move in a particular way that we will describe later, and this knight is somewhere on a square board that has some width and some height that we'll call $n$ - our goal in creating a tour is to have this knight move to every square on the board without moving to a square that he's already been to.

Parberry notes that a \emph{knight's tour problem} is about creating a tour for a knight on some specific board size, but the distinction between a knight's tour and a knight's tour \emph{problem} is not important for our purposes and I will use the two interchangeably.

Parberry describes ``A knight's tour is called \emph{closed} if the last square visited is also reachable from the first square by a knight's move, and \emph{open} otherwise''. For a tour to be closed the starting square must be reachable by a \emph{single} move. We will not include this final move in our discussions or the reference implementation, but it would be valid to do so.

\subsection{Tour representation}

The representation used in the paper is (verbatim) $G = (V,E)$, where: $V = \{(i,j)\ |\ 1 \le i,j \le n\}$, and $E = \{((i,j),(k,l))\ |\ \{|i-k|,|j-l|\} = \{1,2\}\}$.

This notation is very dense so I'll go through it step by step.

G is a graph, represented by a pair of vertices (V) and edges (E). The graph in this case is the set of possible moves that could be made from any square to any other square. The vertices are squares on the chessboard and the edges are possible moves from a vertex to another vertex.

The specific representation of the graph used in the paper is not especially important for the reference implementation, because I have chosen a simpler representation, or for understanding the V or E representations.

Parberry defines the vertices (V) as a pair $i$ and $j$ where both are between 1 and $n$, inclusive. He does not specify where (1,1) is located but his later discussion assumes that it is located in the bottom left of the board. This means the top left is, assuming $i$ is the $x$ axis and $j$ is the $y$ axis, (1, $n$). The top right is ($n$, $n$), and the bottom right ($n$, 1).

% TODO Figure of proposed layout and comment on here.

The edges, as Parberry defines them, are a pair of pairs denoting the start and end points where the difference between the points is 1 exclusive-or 2. Let's unpack what this means. The left-hand pair is the starting square on the board, and the right-hand pair the ending position. The differences between these two squares must be 1 or 2 in the $x$ axis, and the other number of 1 or 2 in the $y$ axis. This means if the knight moves 1 up or down, he must move 2 left or right. Similarly if he moves 2 up or down he must move 1 left or right. The knight may only move from a square on the board to another square on the board.

% TODO Figure demonstrating valid knight movements, with set including off board movement.

\subsection{Other relevant tour details}

Parberry discusses many other points relating to the Knight's tour and it's history in his introduction. He cites many other researchers, some of whose results are duplicated here. Refer to the original paper for more details.

\begin{itemize}
\item There is a closed tour for all boards $n \ge 6$, where $n$ is even.
\item There is an open tour for all boards $n \ge 5$
% TODO \item A \emph{structured} knights tour has moves as in Figure % Add structured figure 
\end{itemize}

\section{A divide and conquer algorithm}


\end{document}
